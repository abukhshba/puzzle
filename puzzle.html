
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Puzzle Game</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #222;
    }
    #puzzle {
      display: grid;
      grid-template-columns: repeat(3, 150px);
      grid-template-rows: repeat(3, 150px);
      gap: 2px;
      border: 4px solid #fff;
      background: #fff;
    }
    .piece {
      width: 150px;
      height: 150px;
      background-image: url("product.jpg"); /* â† ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
      background-size: 450px 450px;
      cursor: grab;
    }
  </style>
</head>
<body>
  <div id="puzzle"></div>

  <script>
    const puzzle = document.getElementById("puzzle");
    let positions = [];

    // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ 9 Ù‚Ø·Ø¹
    for (let row = 0; row < 3; row++) {
      for (let col = 0; col < 3; col++) {
        const piece = document.createElement("div");
        piece.classList.add("piece");
        piece.style.backgroundPosition = `-${col * 150}px -${row * 150}px`;
        piece.dataset.correct = row * 3 + col;
        positions.push(piece);
      }
    }

    // Ø®Ù„Ø· Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    positions.sort(() => Math.random() - 0.5);
    positions.forEach(p => puzzle.appendChild(p));

    // ØªÙØ¹ÙŠÙ„ Drag & Drop
    let dragged;

    puzzle.addEventListener("dragstart", e => {
      if (e.target.classList.contains("piece")) {
        dragged = e.target;
      }
    });

    puzzle.addEventListener("dragover", e => {
      e.preventDefault();
    });

    puzzle.addEventListener("drop", e => {
      if (e.target.classList.contains("piece") && dragged !== e.target) {
        const draggedIndex = [...puzzle.children].indexOf(dragged);
        const targetIndex = [...puzzle.children].indexOf(e.target);

        if (draggedIndex > targetIndex) {
          puzzle.insertBefore(dragged, e.target);
        } else {
          puzzle.insertBefore(dragged, e.target.nextSibling);
        }
      }
      checkWin();
    });

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ²
    function checkWin() {
      const pieces = [...puzzle.children];
      const isCorrect = pieces.every(
        (p, i) => parseInt(p.dataset.correct) === i
      );
      if (isCorrect) {
        setTimeout(() => alert("ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! ÙƒÙ…Ù„Øª Ø§Ù„Ø¨Ø§Ø²Ù„"), 200);
      }
    }
  </script>
</body>
</html>
